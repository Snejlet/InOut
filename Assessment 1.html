<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assessment 1</title>
</head>
<body>

    <input type="text" id="idNumber">I.D. Number</input>
    <input type="text" id="filmName">Film Name</input>
    <input type="date" id="releaseDate">Release Date</input>

    <button id="addFilm" onclick="inputEntered()">Add Film</button>

    <table id="list">
        <tr>
            <th>I.D. Number</th>
            <th>Film Name</th>
            <th>Release Date</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
    </table>

    <script>

        function inputEntered() {

            //this gets the values from the HTML inputs
            var idNumber = document.getElementById("idNumber").value;
            var filmName = document.getElementById("filmName").value;
            var releaseDate = document.getElementById("releaseDate").value;
            var update = '<input type=text id="updateId" style="display:none" value="I.D.">'
                +'<input type=text id="updateName" style="display:none" value="Film Name">'
                +'<input type="date" id="updateDate" style="display:none" value="Release Date">'
                +'<input type="button" id="updateDone" style="display:none" value="Done" onclick="updateInfo(this)">'


            //this finds the table ID'd as "list"
            var table = document.getElementById("list");
            //this inserts a row at the first position after the <th>
            var row = table.insertRow();
            //this creates a variable for each cell of the newly created row
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);

            //this populates the cell variables with the values from the <input>s
            cell1.innerHTML = idNumber;
            cell2.innerHTML = filmName;
            cell3.innerHTML = releaseDate;
            cell4.innerHTML = '<input type=button value="Update" onclick="updateRow(this)">'+update;
            cell5.innerHTML = '<input type=button value="X" onclick="deleteRow(this)">';

            //this clears the text from the inputs
            document.getElementById("idNumber").value = "";
            document.getElementById("filmName").value = "";
            document.getElementById("releaseDate").value = "";

        }
        //this function deletes the row in which the delete button was clicked.
        function deleteRow(r) {

            var thisRow = r.parentNode.parentNode.rowIndex;

            document.getElementById("list").deleteRow(thisRow);

        }

        function updateRow() {

            var updateIdInput = document.getElementById("updateId");
            if (updateIdInput.style.display = "none") {
                updateIdInput.style.display = "block";
            } else {
                updateIdInput.style.display = "none";
            }

            var updateNameInput = document.getElementById("updateName");
            if (updateNameInput.style.display = "none") {
                updateNameInput.style.display = "block";
            } else {
                updateNameInput.style.display = "none";
            }

            var updateDateInput = document.getElementById("updateDate");
            if (updateDateInput.style.display = "none") {
                updateDateInput.style.display = "block";
            } else {
                updateDateInput.style.display = "none";
            }

            var updateDone = document.getElementById("updateDone");
            if (updateDone.style.display = "none") {
                updateDone.style.display = "block";
            } else {
                updateDone.style.display = "none";
            }

        }

        function updateInfo(thisElem) {

            var newId = document.getElementById("updateId").value;

            var rowElem = thisElem.closest('tr');
            row.getElementByTagName('td')[0].innerHTML = newId;

        }

    </script>


</body>
</html>